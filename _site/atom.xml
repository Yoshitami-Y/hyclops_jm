<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>HyClops JobMonitoring</title>
 <link href="http://192.168.166.162:4001/" rel="self"/>
 <link href="http://192.168.166.162:4001"/>
 <updated>2014-12-03T15:43:52+09:00</updated>
 <id>http://192.168.166.162:4001</id>
 <author>
   <name></name>
   <email></email>
 </author>

 
 <entry>
   <title>Q. 起動・停止・再起動等の操作実行がタイムアウトで失敗します。対処方法はありますか？</title>
   <link href="http://192.168.166.162:4001/jp/2013/07/10/globalscript_timeout"/>
   <updated>2013-07-10T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/jp/2013/07/10/globalscript_timeout</id>
   <content type="html">&lt;h2 id=&quot;section&quot;&gt;回答&lt;/h2&gt;

&lt;p&gt;HyClopsでは起動・停止・再起動等の処理をZabbixの標準機能であるGlobalScriptを活用しています。&lt;br /&gt;
ZabbixのGlobalScriptはZabbixフロントエンドが実行します。
そのため、Zabbixフロントエンドの中のスクリプト実行に関するタイムアウト設定を変更することで対応が可能となります。&lt;/p&gt;

&lt;p&gt;変更箇所は以下です。&lt;/p&gt;

&lt;p&gt;Zabbixフロントエンドディレクトリ/include/defines.inc.php&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;define(&#39;ZBX_SCRIPT_TIMEOUT&#39;,            60); // in seconds
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;デフォルトでは60秒に設定されています。
どうしてもタイムアウトが発生してしまう場合にはここの値を調整します。&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. Operations(start/stop/reboot) timed out.Is there a solution?</title>
   <link href="http://192.168.166.162:4001/en/2013/07/10/globalscript_timeout"/>
   <updated>2013-07-10T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/en/2013/07/10/globalscript_timeout</id>
   <content type="html">&lt;h2 id=&quot;answer&quot;&gt;Answer&lt;/h2&gt;

&lt;p&gt;HyClops uses Zabbix GlobalScript feature for operation of start/stop/reboot.
Zabbix GlobalScript is executed by Zabbix Frontend.
So,you should change timeout settings in Zabbix frontend configuration.&lt;/p&gt;

&lt;p&gt;Please check the following settings.&lt;/p&gt;

&lt;p&gt;(Zabbix_frontend_directory]/include/defines.inc.php&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;define(&#39;ZBX_SCRIPT_TIMEOUT&#39;,            60); // in seconds
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Default settings is 60 seconds.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. I can't access GateOne. What is the cause?</title>
   <link href="http://192.168.166.162:4001/en/2013/07/10/can_not_connect_gateone"/>
   <updated>2013-07-10T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/en/2013/07/10/can_not_connect_gateone</id>
   <content type="html">&lt;h2 id=&quot;answer&quot;&gt;Answer&lt;/h2&gt;

&lt;p&gt;It is likely to be generated under the following 4 reasons.
Please check your system situation.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Problem of security credential&lt;/li&gt;
  &lt;li&gt;Problem of time gap between Zabbix Server &amp;amp; GateOne Server&lt;/li&gt;
  &lt;li&gt;Problem of API key configuration&lt;/li&gt;
  &lt;li&gt;Problem of settings allowing access server&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;problem-of-security-credential&quot;&gt;Problem of security credential&lt;/h3&gt;

&lt;p&gt;When the GateOne server security credential is not reliable, GateOne does not display anything.
So, you can take two approaches.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Register the reliable security credential to GateOne server&lt;/li&gt;
  &lt;li&gt;Register the GateOne server as exception&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;problem-of-time-gap-between-zabbix-server--gateone-server&quot;&gt;Problem of time gap between Zabbix Server &amp;amp; GateOne Server&lt;/h3&gt;

&lt;p&gt;GateOne use datetime information at the two timings (generate auth token &amp;amp; authenticate token).
Genarating auth token is executed in Zabbix Server.
Authenticating token is executed in GateOne Server.
So, both of Zabbix Server time &amp;amp; GateOne server time must be same.&lt;/p&gt;

&lt;p&gt;GateOne log(/opt/gateone/logs/webserver.log)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;API authentication failed due to an expired auth object.
If you just restarted the server this is normal (users just need to reload the page).
If  this problem persists it could be a problem with the server&#39;s clock (either this server or the server(s) embedding Gate One).
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;problem-of-api-key-configuration&quot;&gt;Problem of API key configuration&lt;/h3&gt;

&lt;p&gt;Please check api_keys settings in “/opt/gateone/server.conf” and Zabbix global macro settings.&lt;/p&gt;

&lt;p&gt;2 global macros:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;{$GATEONE_KEY}&lt;/li&gt;
  &lt;li&gt;{$GATEONE_SECRET}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If there is wrong settings, the following logs are written in GateOne log.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Error running plugin WebSocket action: ssh_get_connect_string
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;problem-of-settings-allowing-access-server&quot;&gt;Problem of settings allowing access server&lt;/h3&gt;

&lt;p&gt;GateOne is implemented the feature which control access.
This is set at “origins” in “/opt/gateone/server.conf”.
Please check this settings.&lt;/p&gt;

&lt;p&gt;If there is wrong settings, the following logs are written in GateOne log.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Access denied for origin: http://zabbix-server-hostname
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this error case, please set the following “origins” settings.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;origins = &quot;http://zabbix-server-hostname&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After setting, please restart GateOne.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. GateOneに接続できません原因として何が考えられますか？</title>
   <link href="http://192.168.166.162:4001/jp/2013/07/10/can_not_connect_gateone"/>
   <updated>2013-07-10T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/jp/2013/07/10/can_not_connect_gateone</id>
   <content type="html">&lt;h2 id=&quot;section&quot;&gt;回答&lt;/h2&gt;

&lt;p&gt;以下の原因が考えられます。
状況を確認し対応して下さい。  &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt; セキュリティ証明書の問題&lt;/li&gt;
&lt;li&gt; 接続元サーバ(Zabbix Server)とGateOneサーバの時刻ズレの問題&lt;/li&gt;
&lt;li&gt; APIキー設定の問題&lt;/li&gt;
&lt;li&gt; 接続元許可設定の問題&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section-1&quot;&gt;セキュリティ証明書の問題&lt;/h3&gt;

&lt;p&gt;セキュリティ証明書が信頼できない場合、ZabbixダッシュボードからSSH接続を実行しても画面に何も表示されません。
GateOneサーバに信頼できるセキュリティ証明書を登録するか、例外として事前に登録しておく必要があります。&lt;/p&gt;

&lt;h3 id=&quot;zabbix-servergateone&quot;&gt;接続元サーバ(Zabbix Server)とGateOneサーバの時刻ズレの問題&lt;/h3&gt;

&lt;p&gt;GateOneでは認証用トークン生成及び認証チェックに時刻情報を利用しています。
そのため、認証用トークンを生成する接続元(Zabbix Server)の時刻とチェックを実行するGateOneサーバで時刻がずれている場合に不正なトークンであるとみなされ接続が拒否されます。&lt;/p&gt;

&lt;p&gt;この時、GateOneのログ(/opt/gateone/logs/webserver.log)に以下の内容が書きこまれます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;API authentication failed due to an expired auth object.
If you just restarted the server this is normal (users just need to reload the page).
If  this problem persists it could be a problem with the server&#39;s clock (either this server or the server(s) embedding Gate One).
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;接続元とGateOneサーバの時刻を正しく設定して下さい。&lt;/p&gt;

&lt;h3 id=&quot;api&quot;&gt;APIキー設定の問題&lt;/h3&gt;

&lt;p&gt;/opt/gateone/server.confのapi_keys設定に書かれているAPIキー及びシークレットキーが正しくZabbixのマクロに設定されているかを確認して下さい。
Zabbix側では次の2つのグローバルマクロで設定を行います。&lt;br /&gt;
{$GATEONE_KEY},{$GATEONE_SECRET}&lt;/p&gt;

&lt;p&gt;APIキーの設定が誤っている場合、GateOneのログに以下の内容が書きこまれます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Error running plugin WebSocket action: ssh_get_connect_string
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;APIキーの設定を見なおして下さい。&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;接続元許可設定の問題&lt;/h3&gt;

&lt;p&gt;GateOneは接続元の許可設定を行う機能があります。
接続元許可設定は、/opt/gateone/server.confのoriginsで設定します。
Zabbixサーバからの接続許可設定が正しく行われているか確認して下さい。&lt;/p&gt;

&lt;p&gt;接続元許可設定が正しく実施されていない場合、GateOneのログに以下の内容が書きこまれます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Access denied for origin: http://zabbix-server-hostname
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;上記エラー発生の場合には、server.confに以下の設定を実施します。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;origins = &quot;http://zabbix-server-hostname&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;設定変更後、GateOneを再起動して下さい。&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. 稼働するESXiホスト毎に仮想マシンをホストグループ登録は可能ですか？</title>
   <link href="http://192.168.166.162:4001/jp/2013/07/10/assign_esxi_hostgroup"/>
   <updated>2013-07-10T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/jp/2013/07/10/assign_esxi_hostgroup</id>
   <content type="html">&lt;h2 id=&quot;section&quot;&gt;回答&lt;/h2&gt;

&lt;p&gt;HyClopsでは仮想マシンの登録時にマクロの情報をチェックし、ホストグループへの自動登録を実現しています。
登録するホストグループは{$VM_GROUPS}マクロの設定情報をもとに実施されます。
vSphereESXiテンプレートにはデフォルトでこのマクロが以下のように設定されています。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{$VM_GROUPS} =&amp;gt; vSphereVM
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;このマクロ設定をvSphereESXi用Zabbixホストのホストマクロで更新します。
以下のように設定することでホスト名のグループにも自動的に登録されます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{$VM_GROUPS} =&amp;gt; vSphereVM,ホスト名({HOST.HOST}等のマクロ展開には未対応)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;注意: デフォルトで設定されているvSphereVMを記述するのを忘れないで下さい。&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. Is it possible to assign VM to ESXi host name Zabbix HostGroup?</title>
   <link href="http://192.168.166.162:4001/en/2013/07/10/assign_esxi_hostgroup"/>
   <updated>2013-07-10T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/en/2013/07/10/assign_esxi_hostgroup</id>
   <content type="html">&lt;h2 id=&quot;answer&quot;&gt;Answer&lt;/h2&gt;

&lt;p&gt;It is possible.&lt;br /&gt;
HyClops realize the automatic assignment to Zabbix Hostgroup with MACRO information.
The assignment Hostgroup is decided by the MACRO {$VM_GROUPS}.
In “vSphereESXi” template, {$VM_GROUPS} is set “vSphereVM” by default.&lt;/p&gt;

&lt;p&gt;Please change this MACRO setting in vSphereESXi host macro.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{$VM_GROUPS} =&amp;gt; vSphereVM,&quot;HOST NAME&quot;(*Not supported to expand {HOST.HOST}macro)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Note: Don’t forget to set “vSphereVM”&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Q. HTTPプロキシ経由でAWS APIにアクセスすることは可能ですか？</title>
   <link href="http://192.168.166.162:4001/jp/2013/05/29/using_httpproxy"/>
   <updated>2013-05-29T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/jp/2013/05/29/using_httpproxy</id>
   <content type="html">&lt;h2 id=&quot;section&quot;&gt;回答&lt;/h2&gt;

&lt;p&gt;以下の設定を行うことにより対応可能です。&lt;/p&gt;

&lt;h3 id=&quot;hyclopsconf&quot;&gt;1: 環境変数またはhyclops.confにプロキシ設定を行う&lt;/h3&gt;

&lt;p&gt;環境変数またはhyclops.confのenvironmentsにプロキシ情報を設定します。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;http_proxy : http通信に利用するプロキシ設定&lt;/li&gt;
  &lt;li&gt;https_proxy : https通信に利用するプロキシ設定&lt;/li&gt;
  &lt;li&gt;no_proxy : プロキシ経由で通信しないネットワークアドレス設定&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;hyclops.confに設定する場合は以下のように設定します。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[environments]
http_proxy = http://username:password@proxy.example.com:8080
https_proxy = http://username:password@proxy.example.com:8080
no_proxy = &quot;localhost,127.0.0.1,10.1.1.*&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;libcloud&quot;&gt;2: libcloudにプロキシ設定読み込み処理を追記&lt;/h3&gt;

&lt;p&gt;設定を書き込むファイルは”apache-libcloud”Pythonパッケージのlibcloud/common/base.pyです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import os    # 追加
import base64   # 追加
def connect
...略
### ここから
    proxy_env = &quot;https_proxy&quot; if port == 443 else &quot;http_proxy&quot;
    proxy_url = os.environ.get(proxy_env)
    if proxy_url:
        proxy = urlparse.urlparse(proxy_url)
        if proxy.hostname and proxy.port:
            if port == 443:
                connection = self.conn_classes[secure](proxy.hostname, proxy.port)
                if proxy.username and proxy.password:
                    headers = kwargs.get(&#39;headers&#39;, []) 
                    headers = {&quot;Proxy-Authorization&quot;:&quot;Basic &quot; + base64.b64encode(proxy.username + &quot;:&quot; + proxy.password)}
                    kwargs[&quot;headers&quot;] = headers
                connection.set_tunnel(**kwargs)
            else:
                connection = self.conn_classes[False](proxy.hostname, proxy.port)
### ここまで
    self.connetion = connection
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;section-1&quot;&gt;注意&lt;/h3&gt;

&lt;p&gt;Python2.6系を利用している場合、認証有りプロキシが利用できません。
認証無しのプロキシを利用する場合は、以下の設定で対応できます。&lt;/p&gt;

&lt;p&gt;設定するファイルは”apache-libcloud”Pythonパッケージのlibcloud/common/base.pyです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def connect
...略
    connection = self.conn_classes[False](&quot;proxy hostname&quot;, proxy port number)   # &amp;lt;=proxy設定を引数に追加
&lt;/code&gt;&lt;/pre&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. Is it possible to access AWS API via an HTTP proxy?</title>
   <link href="http://192.168.166.162:4001/en/2013/05/29/using_httpproxy"/>
   <updated>2013-05-29T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/en/2013/05/29/using_httpproxy</id>
   <content type="html">&lt;h2 id=&quot;answer&quot;&gt;Answer&lt;/h2&gt;

&lt;p&gt;It is possible to configure the following.&lt;/p&gt;

&lt;h3 id=&quot;set-proxy-information&quot;&gt;1: Set proxy information&lt;/h3&gt;

&lt;p&gt;Set proxy information to environment variable or hyclops.conf&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;http_proxy : proxy setting for communication of http&lt;/li&gt;
  &lt;li&gt;https_proxy : proxy setting for communication of https&lt;/li&gt;
  &lt;li&gt;no_proxy : proxy setting for excluded network&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In case of setting in hyclops.conf&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[environments]
http_proxy = http://username:password@proxy.example.com:8080
https_proxy = http://username:password@proxy.example.com:8080
no_proxy = &quot;localhost,127.0.0.1,10.1.1.*&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;add-code-in-libcloud-for-reading-proxy-settings&quot;&gt;2: Add code in libcloud for reading proxy settings&lt;/h3&gt;

&lt;p&gt;Add code in libcloud/common/base.py(in “apache-libcloud” python package).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import os    # add
import base64   # add
def connect
...
### begin to add
    proxy_env = &quot;https_proxy&quot; if port == 443 else &quot;http_proxy&quot;
    proxy_url = os.environ.get(proxy_env)
    if proxy_url:
        proxy = urlparse.urlparse(proxy_url)
        if proxy.hostname and proxy.port:
            if port == 443:
                connection = self.conn_classes[secure](proxy.hostname, proxy.port)
                if proxy.username and proxy.password:
                    headers = kwargs.get(&#39;headers&#39;, []) 
                    headers = {&quot;Proxy-Authorization&quot;:&quot;Basic &quot; + base64.b64encode(proxy.username + &quot;:&quot; + proxy.password)}
                    kwargs[&quot;headers&quot;] = headers
                connection.set_tunnel(**kwargs)
            else:
                connection = self.conn_classes[False](proxy.hostname, proxy.port)
### end to add
    self.connetion = connection
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;note&quot;&gt;Note&lt;/h3&gt;

&lt;p&gt;If your systems python version is 2.6, you cannot use authentication proxy.
If you use the proxy of no authentication, you have to set the following settings.&lt;/p&gt;

&lt;p&gt;Set in libcloud/common/base.py(in “apache-libcloud” python package).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def connect
...
    connection = self.conn_classes[False](&quot;proxy hostname&quot;, proxy port number)   # &amp;lt;=Add proxy settings option
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Q. Is it possible to reduce the high load of HyClops?</title>
   <link href="http://192.168.166.162:4001/en/2013/05/29/reduce_high_load"/>
   <updated>2013-05-29T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/en/2013/05/29/reduce_high_load</id>
   <content type="html">&lt;h2 id=&quot;answer&quot;&gt;Answer&lt;/h2&gt;

&lt;p&gt;In current HyClops, it is high load to some extent.&lt;br /&gt;
Followings should be considered not to influence to monitoring in Zabbix server.&lt;/p&gt;

&lt;h3 id=&quot;adjust-monitoring-interval&quot;&gt;Adjust monitoring interval&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Set the monitoring interval of push message item(push_message.py item) as long as possible.
    &lt;ul&gt;
      &lt;li&gt;
        &lt;h2 id=&quot;default-is-5-minutes&quot;&gt;Default is 5 minutes&lt;/h2&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Notes&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Synchronization with each environment is delayed.
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;divided-hyclops-server-from-zabbix-server&quot;&gt;Divided HyClops server from Zabbix server&lt;/h3&gt;

&lt;p&gt;HyClops can be divided into HyClops server and  Zabbix server.
Because HyClops communicates with http.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Notes&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;It may be high cost for this divided management.
&lt;/code&gt;&lt;/pre&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. HyClopsの高負荷を低減することは可能ですか？</title>
   <link href="http://192.168.166.162:4001/jp/2013/05/29/reduce_high_load"/>
   <updated>2013-05-29T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/jp/2013/05/29/reduce_high_load</id>
   <content type="html">&lt;h2 id=&quot;section&quot;&gt;回答&lt;/h2&gt;

&lt;p&gt;現状、HyClopsにはある程度の負荷がかかります。&lt;br /&gt;
そのため、Zabbixの監視処理に影響をできるだけ与えないようにするためには以下の対応を検討します。  &lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;監視間隔の調整&lt;/h3&gt;

&lt;p&gt;キューへのメッセージ通知処理実行アイテム(push_message.py実行アイテム)の実行頻度(監視間隔)を可能な限り長めに設定する。
デフォルトで5分間隔に設定しています。&lt;br /&gt;
(間隔を長くすることで、各環境のインスタンス情報との同期が遅れるので注意が必要です。)&lt;/p&gt;

&lt;h3 id=&quot;zabbix&quot;&gt;Zabbixサーバからの分離&lt;/h3&gt;

&lt;p&gt;HyClopsが稼働するサーバをZabbixサーバと分離することで負荷を分散させることを検討します。
HyClopsはhttp通信が可能です。
そのため、Zabbixサーバと分離して扱うことができます。
(分離することで管理コストが高まってしまうため注意が必要です。)&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Q. AmazonEC2インスタンスやvSphere仮想マシン以外のホストに対してGateOneでSSH接続は可能ですか？</title>
   <link href="http://192.168.166.162:4001/jp/2013/05/29/gateone_use_otherhost"/>
   <updated>2013-05-29T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/jp/2013/05/29/gateone_use_otherhost</id>
   <content type="html">&lt;h2 id=&quot;section&quot;&gt;回答&lt;/h2&gt;

&lt;p&gt;Zabbixのマップ機能およびURL設定機能を用いることで可能です。&lt;br /&gt;
方法は以下の通りです。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;1: マップ作成&lt;/h3&gt;

&lt;p&gt;接続したいホストがマップ上に表示されるよう作成します。&lt;br /&gt;
マップの作成はZabbix管理画面の「設定」-&amp;gt;「マップ」-&amp;gt;「マップの作成」から実施します。
作成したマップにマップアイコンとして、タイプ「ホスト」または「ホストグループ」のアイコンを設置します。&lt;/p&gt;

&lt;h3 id=&quot;gateoneurl&quot;&gt;2: マップアイコンにGateOneに接続するためのURLを設定&lt;/h3&gt;

&lt;p&gt;マップアイコンにGateOneのアクセスURLを登録します。
HyClopsが用意しているGateOne接続用ページ(gateone.php)にホストIDをパラメータとして渡すことでSSH接続が実現できます。
マップアイコンに登録できるURLにはZabbixマクロが利用可能であるため、以下のようにURLを設定します。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://zabbix-server-hostname/zabbix/gateone.php?hostid={HOST.ID}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;gateoneurl-1&quot;&gt;3: マップ上のアイコンを選択し、GateOne接続URLをクリック&lt;/h3&gt;

&lt;p&gt;接続するにはマップを表示し、接続したいターゲットホストをクリックします。
表示されるメニューの中からGateOne接続URLをクリックすることで接続できます。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Q. Is it possible to use GateOne for hosts in addition to EC2 instance or vSphere VM?</title>
   <link href="http://192.168.166.162:4001/en/2013/05/29/gateone_use_otherhost"/>
   <updated>2013-05-29T00:00:00+09:00</updated>
   <id>http://192.168.166.162:4001/en/2013/05/29/gateone_use_otherhost</id>
   <content type="html">&lt;h2 id=&quot;answer&quot;&gt;Answer&lt;/h2&gt;

&lt;p&gt;It is possible to use Zabbix map and map icon url.
The process is following.&lt;/p&gt;

&lt;h3 id=&quot;create-map&quot;&gt;1: Create Map&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Create map to be displayed the connection target host on this map.
    &lt;ul&gt;
      &lt;li&gt;At Zabbix management Web page (Configuration-&amp;gt;Maps-&amp;gt;Create map)&lt;/li&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Set host type icon or hostgroup type icon on this created map.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;set-gateone-url-to-target-map-icon&quot;&gt;2: Set GateOne URL to target map icon&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Set GateOne access URL to map icons.
    &lt;ul&gt;
      &lt;li&gt;URL is GateOne page URL(gateone.php).&lt;/li&gt;
      &lt;li&gt;gateone.php can receive zabbix host ID GET parameter.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;e.g.) http://zabbix-server-hostname/zabbix/gateone.php?hostid={HOST.ID}&lt;br /&gt;
(You can set Zabbix Macro at map icon url)&lt;/p&gt;

&lt;h3 id=&quot;connect-to-ssh-console-with-gateone&quot;&gt;3: Connect to SSH console with GateOne&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Click target host at the map view page.&lt;/li&gt;
  &lt;li&gt;Click GateOne URL link in displayed menu.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 
</feed>
